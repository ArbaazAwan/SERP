<div class="main-container">
  <div class="container">
    <div class="col-lg-12 col-md-12 col-sm-12 mb-2 FormsHeading">
      <!-- <p class="mx-1 my-1">All Documents Of selected LeadCode</p> -->
    </div>
  </div>

  <div class="container">
    <div class="row">
      <p-table
        class="table"
        [value]="Documentsresponse$"
        [paginator]="true"
        [alwaysShowPaginator]="false"
        [rows]="10"
        class="datatable-width"
        styleClass="p-datatable-sm"
        responsiveLayout="stack"
        [breakpoint]="'960px'"
        [rowHover]="true"
      >
        <ng-template pTemplate="header">
          <tr>
            <th style="min-width: 150px">LeadCode</th>
            <th style="min-width: 100px">StepCode</th>
            <th style="min-width: 100px">DocumentId</th>
            <th style="min-width: 100px">ImagePath</th>
            <th style="min-width: 100px">Action</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-m>
          <tr>
            <td>{{ m.LeadCode }}</td>
            <td>{{ m.StepCode }}</td>
            <td>{{ m.DocumentId }}</td>
            <td>{{ m.ImagePath }}</td>
            <td>
              <button
                pButton
                icon="pi pi-eye"
                class="p-button p-button-outlined p-button-rounded p-button-warning GridEditButton mx-1"
                (click)="
                  openDocumentViewDialog(m.BranchCode,m.LeadCode, m.StepCode, m.DocumentId)
                "
              ></button>
              <button
                pButton
                icon="pi pi-trash"
                class="p-button p-button-outlined p-button-rounded p-button-danger GridDelButton mx-1"
                (click)="delete(m)"
              ></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>
<p-dialog
  header="Document Viewer"
  [(visible)]="displayDocumentDialog"
  [modal]="true"
  [responsive]="true"
  [baseZIndex]="10000"
  (onHide)="closeDocumentViewDialog()"
  [style]="{ width: '1200px', height: '800px' }"
>
  <div *ngIf="imagePathOnServer">
    <img [src]="imagePathOnServer" alt="Document" style="width: 100%; height: 533px;" />
  </div>
</p-dialog>

